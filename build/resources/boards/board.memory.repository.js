import { getRepository } from 'typeorm';
import { Board } from './board.model.js';
import { ColumnClass } from './column.model.js';
const getAll = async () => await getRepository(Board).find({ where: {} });
const save = async (board) => await getRepository(Board).save(board);
const find = async (id) => await getRepository(Board).findOne(id);
const update = async (id, title) => await getRepository(Board).save({ id, title });
const remove = async (id) => await getRepository(Board).delete(id);
const saveColumns = async (columnsCreateFrom) => await Promise.all(columnsCreateFrom.map((column) => getRepository(ColumnClass).save(column)));
const updateColumns = async (columnsUpdateFrom) => await getRepository(ColumnClass).save(columnsUpdateFrom);
export { getAll, save, find, update, remove, saveColumns, updateColumns };
